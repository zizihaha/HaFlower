(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-339aaa7a"],{"68ec":function(t,a,s){},"81b1":function(t,a,s){"use strict";s.r(a);var e=function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("div",[s("loading",{attrs:{loader:"dots",active:t.status.isLoading},on:{"update:active":function(a){return t.$set(t.status,"isLoading",a)}}}),t._m(0),s("div",{staticClass:"container mt-md-5 mt-3"},[s("div",{staticClass:"row"},[s("div",{staticClass:"col-md-4"},[s("div",{staticClass:"cursor-pointer accordion border border-bottom-0 border-top-0 border-left-0 border-right-0 mb-3",attrs:{id:"accordionExample"}},[s("div",{staticClass:"card border-0"},[t._m(1),s("div",{staticClass:"collapse show",attrs:{id:"collapseTwo","aria-labelledby":"headingTwo","data-parent":"#accordionExample"}},[s("div",{staticClass:"card-body py-0"},[s("ul",{staticClass:"list-unstyled"},t._l(t.category,(function(a){return s("li",{key:a,on:{click:function(s){return s.preventDefault(),t.productType(a)}}},[s("a",{staticClass:"py-2 d-block",class:{"text-danger font-weight-bold":a===t.categoryType},attrs:{href:"#"}},[t._v(t._s(a))])])})),0)])])])])]),s("div",{staticClass:"col-md-8"},[s("div",{staticClass:"row"},t._l(t.categoryFilter,(function(a){return s("div",{key:a.id,staticClass:"col-md-6"},[s("div",{staticClass:"card border-0 mb-4"},[s("router-link",{staticClass:"product-img",attrs:{to:"/product/"+a.id}},[s("img",{directives:[{name:"lazy",rawName:"v-lazy",value:a.imageUrl[0],expression:"item.imageUrl[0]"}],staticClass:"card-img-top rounded-0",attrs:{alt:a.title}}),s("p",{staticClass:"position-absolute product-check mb-0"},[t._v(" CLICK TO VIEW ")])]),s("a",{staticClass:"text-dark",attrs:{href:"#"},on:{click:function(s){return s.preventDefault(),t.editfav(a)}}},[-1===t.favProductsId.indexOf(a.id)?s("i",{staticClass:"far fa-heart position-absolute text-white",staticStyle:{right:"16px",top:"16px"}}):s("i",{staticClass:"fas fa-heart position-absolute text-white",staticStyle:{right:"16px",top:"16px"}})]),s("a",{staticClass:"text-dark",attrs:{href:"#"},on:{click:function(s){return s.preventDefault(),t.updateCart(a)}}},[s("i",{staticClass:"fas fa-cart-plus position-absolute text-white",staticStyle:{right:"50px",top:"16px"}})]),s("div",{staticClass:"card-body p-0 my-3"},[s("h4",{staticClass:"mb-0"},[s("router-link",{attrs:{to:"/product/"+a.id}},[t._v(" "+t._s(a.title)+" ")])],1),s("p",{staticClass:"card-text text-danger font-weight-bold"},[t._v(" NT"+t._s(t._f("currency")(a.price))+" "),s("span",{staticClass:"text-muted ml-1"},[s("del",[t._v("NT"+t._s(t._f("currency")(a.origin_price)))])])])])],1)])})),0)])])])],1)},i=[function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("div",{staticClass:"position-relative d-flex align-items-center justify-content-center",staticStyle:{"min-height":"200px"}},[s("div",{staticClass:"position-absolute",staticStyle:{top:"0",bottom:"0",left:"0",right:"0",opacity:"0.3",background:"url(https://images.unsplash.com/photo-1527903789995-dc8ad2ad6de0?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=1007&q=80) fixed no-repeat center / cover"}})])},function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("div",{staticClass:"card-header px-0 py-4 bg-white border border-bottom-0 border-top-0 border-left-0 border-right-0",attrs:{id:"headingTwo","data-toggle":"collapse","data-target":"#collapseTwo"}},[s("div",{staticClass:"d-flex justify-content-between align-items-center pr-1"},[s("h5",{staticClass:"mb-0"},[t._v(" 商品分類 ")]),s("i",{staticClass:"fas fa-chevron-down"})])])}],r=(s("99af"),s("4de4"),s("c975"),s("a434"),{name:"Product",components:{},data:function(){return{products:[],pagination:{},status:{isLoading:!1},categoryType:"全部產品",category:["全部產品","新娘捧花","胸花","手腕花","婚禮佈置"],favProducts:JSON.parse(localStorage.getItem("favList"))||[],favProductsId:JSON.parse(localStorage.getItem("favId"))||[]}},created:function(){this.status.isLoading=!0,this.getProducts(),this.categoryType=this.$route.params.categoryType||"全部產品"},computed:{categoryFilter:function(){var t=this;return"全部產品"===this.categoryType?this.products:this.products.filter((function(a){return a.category===t.categoryType}))}},methods:{productType:function(t){this.categoryType=t},getProducts:function(){var t=this,a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;this.status.isLoading=!0;var s="".concat("https://course-ec-api.hexschool.io/api/").concat("5f936d6a-78a1-48f0-8517-588ebb2f69c6","/ec/products?page=").concat(a,"&paged=60");this.$http.get(s).then((function(a){t.products=a.data.data,t.pagination=a.data.meta.pagination,t.status.isLoading=!1})).catch((function(a){t.status.isLoading=!1,console.log(a.response)}))},updateCart:function(t){this.$bus.$emit("add-cart",t),console.log(t,"產品列表加入購物車")},editfav:function(t){var a=this.favProducts,s=this.favProductsId.indexOf(t.id);-1===s?(this.favProducts.push(t),this.favProductsId.push(t.id),this.$bus.$emit("message:push","".concat(t.title,"已加入收藏清單"),"success")):(this.favProducts.splice(a,1),this.favProductsId.splice(s,1),this.$bus.$emit("message:push","".concat(t.title,"已取消收藏"),"danger")),localStorage.setItem("favList",JSON.stringify(this.favProducts)),localStorage.setItem("favId",JSON.stringify(this.favProductsId))}}}),o=r,c=(s("def5"),s("2877")),n=Object(c["a"])(o,e,i,!1,null,"13b35119",null);a["default"]=n.exports},c975:function(t,a,s){"use strict";var e=s("23e7"),i=s("4d64").indexOf,r=s("a640"),o=s("ae40"),c=[].indexOf,n=!!c&&1/[1].indexOf(1,-0)<0,d=r("indexOf"),l=o("indexOf",{ACCESSORS:!0,1:0});e({target:"Array",proto:!0,forced:n||!d||!l},{indexOf:function(t){return n?c.apply(this,arguments)||0:i(this,t,arguments.length>1?arguments[1]:void 0)}})},def5:function(t,a,s){"use strict";var e=s("68ec"),i=s.n(e);i.a}}]);
//# sourceMappingURL=chunk-339aaa7a.9223874d.js.map