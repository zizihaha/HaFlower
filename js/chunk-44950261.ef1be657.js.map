{"version":3,"sources":["webpack:///./src/views/backend/Products.vue?e498","webpack:///./src/components/backend/ProductModal.vue?d59f","webpack:///src/components/backend/ProductModal.vue","webpack:///./src/components/backend/ProductModal.vue?5933","webpack:///./src/components/backend/ProductModal.vue","webpack:///./src/components/backend/DelProductModal.vue?85bb","webpack:///src/components/backend/DelProductModal.vue","webpack:///./src/components/backend/DelProductModal.vue?01d2","webpack:///./src/components/backend/DelProductModal.vue","webpack:///src/views/backend/Products.vue","webpack:///./src/views/backend/Products.vue?eb06","webpack:///./src/views/backend/Products.vue","webpack:///./src/components/backend/Pagination.vue?d51c","webpack:///src/components/backend/Pagination.vue","webpack:///./src/components/backend/Pagination.vue?974b","webpack:///./src/components/backend/Pagination.vue","webpack:///./src/components/backend/ProductModal.vue?50a4"],"names":["render","_vm","this","_h","$createElement","_c","_self","attrs","status","isLoading","on","$event","$set","staticClass","directives","name","rawName","value","input","expression","$$selectedVal","Array","prototype","filter","call","target","options","o","selected","map","val","_value","multiple","_v","openModal","_m","_l","item","index","key","_s","category","staticStyle","imageUrl","title","_f","origin_price","price","loadingBtn","id","pagination","getProducts","ref","isNew","tempProduct","staticRenderFns","type","indexOf","_k","keyCode","updateProduct","i","domProps","composing","_e","uploadFile","isArray","enabled","_i","$$a","$$el","$$c","checked","$$v","$$i","concat","slice","data","props","methods","getProduct","$http","api","httpMethod","formData","append","uploadedFile","fileUploading","component","delProduct","loadingBtnDel","components","Pagination","ProductModal","DelProductModal","products","created","computed","typeMenu","editTitle","textContent","$refs","productModel","$","modal","Object","assign","class","disabled","pages","current_page","preventDefault","emitPages","active","total_pages","$emit"],"mappings":"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","file":"js/chunk-44950261.ef1be657.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('loading',{attrs:{\"loader\":\"dots\",\"active\":_vm.status.isLoading},on:{\"update:active\":function($event){return _vm.$set(_vm.status, \"isLoading\", $event)}}}),_c('div',{staticClass:\"text-right mt-4\"},[_c('div',{staticClass:\"form-row\"},[_c('div',{staticClass:\"form-group col-md-2\"},[_c('select',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.input.type),expression:\"input.type\"}],staticClass:\"form-control\",attrs:{\"id\":\"inputState\"},on:{\"change\":function($event){var $$selectedVal = Array.prototype.filter.call($event.target.options,function(o){return o.selected}).map(function(o){var val = \"_value\" in o ? o._value : o.value;return val}); _vm.$set(_vm.input, \"type\", $event.target.multiple ? $$selectedVal : $$selectedVal[0])}}},[_c('option',[_vm._v(\"全部產品\")]),_c('option',[_vm._v(\"新娘捧花\")]),_c('option',[_vm._v(\"婚禮佈置\")]),_c('option',[_vm._v(\"胸花\")]),_c('option',[_vm._v(\"手腕花\")])])]),_c('div',{staticClass:\"form-group\"},[_c('button',{staticClass:\"btn btn-primary\",on:{\"click\":function($event){return _vm.openModal('new')}}},[_vm._v(\" 建立新的產品 \")])])])]),_c('table',{staticClass:\"table mt-4\"},[_vm._m(0),_c('tbody',_vm._l((_vm.typeMenu),function(item,index){return _c('tr',{key:index,staticClass:\"text-center\"},[_c('td',[_vm._v(_vm._s(item.category))]),_c('td',[_c('router-link',{attrs:{\"to\":(\"/product/\" + (item.id)),\"target\":\"_blank\"}},[_c('img',{staticStyle:{\"width\":\"100px\"},attrs:{\"src\":item.imageUrl[0],\"alt\":\"\"}})])],1),_c('td',{staticClass:\"text-left\"},[_vm._v(_vm._s(item.title))]),_c('td',[_vm._v(\" \"+_vm._s(_vm._f(\"currency\")(item.origin_price))+\" \")]),_c('td',[_vm._v(\" \"+_vm._s(_vm._f(\"currency\")(item.price))+\" \")]),_c('td',[(item.enabled)?_c('span',{staticClass:\"text-success\"},[_vm._v(\"啟用\")]):_c('span',[_vm._v(\"未啟用\")])]),_c('td',[_c('div',{staticClass:\"btn-group d-flex\"},[_c('button',{staticClass:\"btn btn-outline-primary btn-sm\",attrs:{\"disabled\":_vm.status.loadingBtn === item.id},on:{\"click\":function($event){return _vm.openModal('edit', item)}}},[(_vm.status.loadingBtn === item.id)?_c('span',{staticClass:\"spinner-grow spinner-grow-sm\",attrs:{\"role\":\"status\",\"aria-hidden\":\"true\"}}):_c('span',[_vm._v(\" 編輯 \")])]),_c('button',{staticClass:\"btn btn-outline-danger btn-sm\",on:{\"click\":function($event){return _vm.openModal('delete', item)}}},[_vm._v(\" 刪除 \")])])])])}),0)]),_c('pagination',{attrs:{\"pages\":_vm.pagination},on:{\"emit-pages\":_vm.getProducts}}),_c('product-modal',{ref:\"productModel\",attrs:{\"status\":_vm.status,\"is-new\":_vm.isNew},on:{\"update\":_vm.getProducts}}),_c('del-product-modal',{attrs:{\"temp-product\":_vm.tempProduct,\"status\":_vm.status},on:{\"update\":_vm.getProducts}})],1)}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('thead',[_c('tr',{staticClass:\"text-center\"},[_c('th',{attrs:{\"width\":\"130\"}},[_vm._v(\" 分類 \")]),_c('th',{attrs:{\"width\":\"130\"}},[_vm._v(\" 產品圖 \")]),_c('th',[_vm._v(\"產品名稱\")]),_c('th',{attrs:{\"width\":\"120\"}},[_vm._v(\" 原價 \")]),_c('th',{attrs:{\"width\":\"120\"}},[_vm._v(\" 售價 \")]),_c('th',{attrs:{\"width\":\"100\"}},[_vm._v(\" 是否啟用 \")]),_c('th',{attrs:{\"width\":\"140\"}},[_vm._v(\" 編輯 \")])])])}]\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('div',{staticClass:\"modal fade\",attrs:{\"id\":\"productModal\",\"tabindex\":\"-1\",\"role\":\"dialog\",\"aria-labelledby\":\"exampleModalLabel\",\"aria-hidden\":\"true\"}},[_c('div',{staticClass:\"modal-dialog modal-xl\",attrs:{\"role\":\"document\"}},[_c('div',{staticClass:\"modal-content border-0\"},[_vm._m(0),_c('div',{staticClass:\"modal-body\",on:{\"keyup\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\")){ return null; }return _vm.updateProduct($event)}}},[_c('div',{staticClass:\"row\"},[_c('div',{staticClass:\"col-sm-4\"},[_vm._l((5),function(i){return _c('div',{key:i + 'img',staticClass:\"form-group\"},[_c('label',{attrs:{\"for\":'img' + i}},[_vm._v(\"輸入圖片網址\")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.tempProduct.imageUrl[i - 1]),expression:\"tempProduct.imageUrl[i - 1]\"}],staticClass:\"form-control\",attrs:{\"id\":'img' + i,\"type\":\"text\",\"placeholder\":\"請輸入圖片連結\"},domProps:{\"value\":(_vm.tempProduct.imageUrl[i - 1])},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.tempProduct.imageUrl, i - 1, $event.target.value)}}})])}),_c('div',{staticClass:\"form-group\"},[_c('label',{attrs:{\"for\":\"customFile\"}},[_vm._v(\" 或 上傳圖片 \"),(_vm.status.fileUploading)?_c('span',{staticClass:\"ml-2\"},[_c('i',{staticClass:\"fas fa-spinner fa-spin\"}),_c('span',{staticClass:\"text-muted\"},[_vm._v(\" 圖片上傳中\")])]):_vm._e()]),_c('input',{ref:\"file\",staticClass:\"form-control-file\",attrs:{\"id\":\"customFile\",\"type\":\"file\"},on:{\"change\":_vm.uploadFile}})]),_c('img',{staticClass:\"m-1\",staticStyle:{\"width\":\"100px\"},attrs:{\"src\":_vm.tempProduct.imageUrl[0],\"alt\":\"\"}}),_c('img',{staticClass:\"m-1\",staticStyle:{\"width\":\"100px\"},attrs:{\"src\":_vm.tempProduct.imageUrl[1],\"alt\":\"\"}}),_c('img',{staticClass:\"m-1\",staticStyle:{\"width\":\"100px\"},attrs:{\"src\":_vm.tempProduct.imageUrl[2],\"alt\":\"\"}}),_c('img',{staticClass:\"m-1\",staticStyle:{\"width\":\"100px\"},attrs:{\"src\":_vm.tempProduct.imageUrl[3],\"alt\":\"\"}}),_c('img',{staticClass:\"m-1\",staticStyle:{\"width\":\"100px\"},attrs:{\"src\":_vm.tempProduct.imageUrl[4],\"alt\":\"\"}})],2),_c('div',{staticClass:\"col-sm-8\"},[_c('div',{staticClass:\"form-group\"},[_c('label',{attrs:{\"for\":\"title\"}},[_vm._v(\"標題\")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.tempProduct.title),expression:\"tempProduct.title\"}],staticClass:\"form-control\",attrs:{\"id\":\"title\",\"type\":\"text\",\"placeholder\":\"請輸入標題\",\"required\":\"\"},domProps:{\"value\":(_vm.tempProduct.title)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.tempProduct, \"title\", $event.target.value)}}})]),_c('div',{staticClass:\"form-row\"},[_c('div',{staticClass:\"form-group col-md-6\"},[_c('label',{attrs:{\"for\":\"category\"}},[_vm._v(\"分類\")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.tempProduct.category),expression:\"tempProduct.category\"}],staticClass:\"form-control\",attrs:{\"id\":\"category\",\"type\":\"text\",\"placeholder\":\"請輸入分類\",\"required\":\"\"},domProps:{\"value\":(_vm.tempProduct.category)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.tempProduct, \"category\", $event.target.value)}}})]),_c('div',{staticClass:\"form-group col-md-6\"},[_c('label',{attrs:{\"for\":\"price\"}},[_vm._v(\"單位\")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.tempProduct.unit),expression:\"tempProduct.unit\"}],staticClass:\"form-control\",attrs:{\"id\":\"unit\",\"type\":\"text\",\"placeholder\":\"請輸入單位\"},domProps:{\"value\":(_vm.tempProduct.unit)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.tempProduct, \"unit\", $event.target.value)}}})])]),_c('div',{staticClass:\"form-row\"},[_c('div',{staticClass:\"form-group col-md-6\"},[_c('label',{attrs:{\"for\":\"origin_price\"}},[_vm._v(\"原價\")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.tempProduct.origin_price),expression:\"tempProduct.origin_price\"}],staticClass:\"form-control\",attrs:{\"id\":\"origin_price\",\"type\":\"number\",\"placeholder\":\"請輸入原價\"},domProps:{\"value\":(_vm.tempProduct.origin_price)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.tempProduct, \"origin_price\", $event.target.value)}}})]),_c('div',{staticClass:\"form-group col-md-6\"},[_c('label',{attrs:{\"for\":\"price\"}},[_vm._v(\"售價\")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.tempProduct.price),expression:\"tempProduct.price\"}],staticClass:\"form-control\",attrs:{\"id\":\"price\",\"type\":\"number\",\"placeholder\":\"請輸入售價\"},domProps:{\"value\":(_vm.tempProduct.price)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.tempProduct, \"price\", $event.target.value)}}})])]),_c('hr'),_c('div',{staticClass:\"form-group\"},[_vm._m(1),_c('textarea',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.tempProduct.content),expression:\"tempProduct.content\"}],staticClass:\"form-control\",attrs:{\"id\":\"description\",\"type\":\"text\",\"placeholder\":\"請輸入產品說明\",\"required\":\"\"},domProps:{\"value\":(_vm.tempProduct.content)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.tempProduct, \"content\", $event.target.value)}}})]),_c('div',{staticClass:\"form-group\"},[_vm._m(2),_c('textarea',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.tempProduct.description),expression:\"tempProduct.description\"}],staticClass:\"form-control\",attrs:{\"id\":\"content\",\"type\":\"text\",\"placeholder\":\"請輸入產品描述\",\"required\":\"\"},domProps:{\"value\":(_vm.tempProduct.description)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.tempProduct, \"description\", $event.target.value)}}})]),_c('div',{staticClass:\"form-group\"},[_c('div',{staticClass:\"form-check\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.tempProduct.enabled),expression:\"tempProduct.enabled\"}],staticClass:\"form-check-input\",attrs:{\"id\":\"enabled\",\"type\":\"checkbox\"},domProps:{\"checked\":Array.isArray(_vm.tempProduct.enabled)?_vm._i(_vm.tempProduct.enabled,null)>-1:(_vm.tempProduct.enabled)},on:{\"change\":function($event){var $$a=_vm.tempProduct.enabled,$$el=$event.target,$$c=$$el.checked?(true):(false);if(Array.isArray($$a)){var $$v=null,$$i=_vm._i($$a,$$v);if($$el.checked){$$i<0&&(_vm.$set(_vm.tempProduct, \"enabled\", $$a.concat([$$v])))}else{$$i>-1&&(_vm.$set(_vm.tempProduct, \"enabled\", $$a.slice(0,$$i).concat($$a.slice($$i+1))))}}else{_vm.$set(_vm.tempProduct, \"enabled\", $$c)}}}}),_c('label',{staticClass:\"form-check-label\",attrs:{\"for\":\"enabled\"}},[_vm._v(\"是否啟用\")])])])])])]),_c('div',{staticClass:\"modal-footer\"},[_c('button',{staticClass:\"btn btn-outline-secondary\",attrs:{\"type\":\"button\",\"data-dismiss\":\"modal\"}},[_vm._v(\" 取消 \")]),_c('button',{staticClass:\"btn btn-primary\",attrs:{\"type\":\"button\",\"disabled\":_vm.status.loadingBtn === _vm.tempProduct.id},on:{\"click\":_vm.updateProduct}},[(_vm.status.loadingBtn === _vm.tempProduct.id)?_c('span',{staticClass:\"spinner-grow spinner-grow-sm\",attrs:{\"role\":\"status\",\"aria-hidden\":\"true\"}}):_vm._e(),_vm._v(\" 確認 \")])])])])])])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"modal-header bg-dark text-white\"},[_c('h5',{staticClass:\"modal-title\",attrs:{\"id\":\"exampleModalLabel\"}},[_c('span',{staticClass:\"editTitle\"},[_vm._v(\"新增產品\")])]),_c('button',{staticClass:\"close\",attrs:{\"type\":\"button\",\"data-dismiss\":\"modal\",\"aria-label\":\"Close\"}},[_c('span',{attrs:{\"aria-hidden\":\"true\"}},[_vm._v(\"×\")])])])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('label',{attrs:{\"for\":\"content\"}},[_vm._v(\"產品說明 \"),_c('span',{staticClass:\"asterisk text-danger ml-1\"},[_vm._v(\"*\")])])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('label',{attrs:{\"for\":\"content\"}},[_vm._v(\"產品描述 \"),_c('span',{staticClass:\"asterisk text-danger ml-1\"},[_vm._v(\"*\")])])}]\n\nexport { render, staticRenderFns }","<template>\r\n  <div>\r\n    <div\r\n      id=\"productModal\"\r\n      class=\"modal fade\"\r\n      tabindex=\"-1\"\r\n      role=\"dialog\"\r\n      aria-labelledby=\"exampleModalLabel\"\r\n      aria-hidden=\"true\"\r\n    >\r\n      <div class=\"modal-dialog modal-xl\" role=\"document\">\r\n        <div class=\"modal-content border-0\">\r\n          <div class=\"modal-header bg-dark text-white\">\r\n            <h5 id=\"exampleModalLabel\" class=\"modal-title\">\r\n              <span class=\"editTitle\">新增產品</span>\r\n            </h5>\r\n            <button\r\n              type=\"button\"\r\n              class=\"close\"\r\n              data-dismiss=\"modal\"\r\n              aria-label=\"Close\"\r\n            >\r\n              <span aria-hidden=\"true\">&times;</span>\r\n            </button>\r\n          </div>\r\n          <div class=\"modal-body\" @keyup.enter=\"updateProduct\">\r\n            <div class=\"row\">\r\n              <div class=\"col-sm-4\">\r\n                <div v-for=\"i in 5\" :key=\"i + 'img'\" class=\"form-group\">\r\n                  <label :for=\"'img' + i\">輸入圖片網址</label>\r\n                  <input\r\n                    :id=\"'img' + i\"\r\n                    v-model=\"tempProduct.imageUrl[i - 1]\"\r\n                    type=\"text\"\r\n                    class=\"form-control\"\r\n                    placeholder=\"請輸入圖片連結\"\r\n                  />\r\n                </div>\r\n\r\n                <div class=\"form-group\">\r\n                  <label for=\"customFile\">\r\n                    或 上傳圖片\r\n                    <span v-if=\"status.fileUploading\" class=\"ml-2\">\r\n                      <i class=\"fas fa-spinner fa-spin\"></i>\r\n                      <span class=\"text-muted\"> 圖片上傳中</span>\r\n                    </span>\r\n                  </label>\r\n                  <input\r\n                    id=\"customFile\"\r\n                    ref=\"file\"\r\n                    type=\"file\"\r\n                    class=\"form-control-file\"\r\n                    @change=\"uploadFile\"\r\n                  />\r\n                  <!-- @change 當這欄位有變更的時候就上傳圖片 -->\r\n                </div>\r\n\r\n                <img\r\n                  class=\"m-1\"\r\n                  style=\"width: 100px\"\r\n                  :src=\"tempProduct.imageUrl[0]\"\r\n                  alt\r\n                />\r\n                <img\r\n                  class=\"m-1\"\r\n                  style=\"width: 100px\"\r\n                  :src=\"tempProduct.imageUrl[1]\"\r\n                  alt\r\n                />\r\n                <img\r\n                  class=\"m-1\"\r\n                  style=\"width: 100px\"\r\n                  :src=\"tempProduct.imageUrl[2]\"\r\n                  alt\r\n                />\r\n                <img\r\n                  class=\"m-1\"\r\n                  style=\"width: 100px\"\r\n                  :src=\"tempProduct.imageUrl[3]\"\r\n                  alt\r\n                />\r\n                <img\r\n                  class=\"m-1\"\r\n                  style=\"width: 100px\"\r\n                  :src=\"tempProduct.imageUrl[4]\"\r\n                  alt\r\n                />\r\n              </div>\r\n              <div class=\"col-sm-8\">\r\n                <div class=\"form-group\">\r\n                  <label for=\"title\">標題</label>\r\n                  <input\r\n                    id=\"title\"\r\n                    v-model=\"tempProduct.title\"\r\n                    type=\"text\"\r\n                    class=\"form-control\"\r\n                    placeholder=\"請輸入標題\"\r\n                    required\r\n                  />\r\n                </div>\r\n                <div class=\"form-row\">\r\n                  <div class=\"form-group col-md-6\">\r\n                    <label for=\"category\">分類</label>\r\n                    <input\r\n                      id=\"category\"\r\n                      v-model=\"tempProduct.category\"\r\n                      type=\"text\"\r\n                      class=\"form-control\"\r\n                      placeholder=\"請輸入分類\"\r\n                      required\r\n                    />\r\n                  </div>\r\n                  <div class=\"form-group col-md-6\">\r\n                    <label for=\"price\">單位</label>\r\n                    <input\r\n                      id=\"unit\"\r\n                      v-model=\"tempProduct.unit\"\r\n                      type=\"text\"\r\n                      class=\"form-control\"\r\n                      placeholder=\"請輸入單位\"\r\n                    />\r\n                  </div>\r\n                </div>\r\n                <div class=\"form-row\">\r\n                  <div class=\"form-group col-md-6\">\r\n                    <label for=\"origin_price\">原價</label>\r\n                    <input\r\n                      id=\"origin_price\"\r\n                      v-model=\"tempProduct.origin_price\"\r\n                      type=\"number\"\r\n                      class=\"form-control\"\r\n                      placeholder=\"請輸入原價\"\r\n                    />\r\n                  </div>\r\n                  <div class=\"form-group col-md-6\">\r\n                    <label for=\"price\">售價</label>\r\n                    <input\r\n                      id=\"price\"\r\n                      v-model=\"tempProduct.price\"\r\n                      type=\"number\"\r\n                      class=\"form-control\"\r\n                      placeholder=\"請輸入售價\"\r\n                    />\r\n                  </div>\r\n                </div>\r\n                <hr />\r\n                <div class=\"form-group\">\r\n                  <label for=\"content\"\r\n                    >產品說明\r\n                    <span class=\"asterisk text-danger ml-1\">*</span></label\r\n                  >\r\n\r\n                  <textarea\r\n                    id=\"description\"\r\n                    v-model=\"tempProduct.content\"\r\n                    type=\"text\"\r\n                    class=\"form-control\"\r\n                    placeholder=\"請輸入產品說明\"\r\n                    required\r\n                  >\r\n                  </textarea>\r\n                </div>\r\n                <div class=\"form-group\">\r\n                  <label for=\"content\"\r\n                    >產品描述\r\n                    <span class=\"asterisk text-danger ml-1\">*</span>\r\n                  </label>\r\n                  <textarea\r\n                    id=\"content\"\r\n                    v-model=\"tempProduct.description\"\r\n                    type=\"text\"\r\n                    class=\"form-control\"\r\n                    placeholder=\"請輸入產品描述\"\r\n                    required\r\n                  >\r\n                  </textarea>\r\n                </div>\r\n                <div class=\"form-group\">\r\n                  <div class=\"form-check\">\r\n                    <input\r\n                      id=\"enabled\"\r\n                      v-model=\"tempProduct.enabled\"\r\n                      class=\"form-check-input\"\r\n                      type=\"checkbox\"\r\n                    />\r\n                    <label class=\"form-check-label\" for=\"enabled\"\r\n                      >是否啟用</label\r\n                    >\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <div class=\"modal-footer\">\r\n            <button\r\n              type=\"button\"\r\n              class=\"btn btn-outline-secondary\"\r\n              data-dismiss=\"modal\"\r\n            >\r\n              取消\r\n            </button>\r\n            <button\r\n              type=\"button\"\r\n              class=\"btn btn-primary\"\r\n              @click=\"updateProduct\"\r\n              :disabled=\"status.loadingBtn === tempProduct.id\"\r\n            >\r\n              <span\r\n                class=\"spinner-grow spinner-grow-sm\"\r\n                role=\"status\"\r\n                aria-hidden=\"true\"\r\n                v-if=\"status.loadingBtn === tempProduct.id\"\r\n              ></span>\r\n              確認\r\n            </button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n<style scoped>\r\n.asterisk {\r\n  transform: scale(1.8);\r\n  position: relative;\r\n  top: 5px;\r\n  display: inline-block;\r\n}\r\n</style>\r\n<script>\r\n/* global $ */\r\n\r\nexport default {\r\n  name: 'ProductModal',\r\n  data() {\r\n    return {\r\n      tempProduct: {\r\n        // 接遠端傳回的單一產品資料\r\n        imageUrl: []\r\n      }\r\n    };\r\n  },\r\n  props: ['isNew', 'status'],\r\n  methods: {\r\n    // 取得單一商品細節\r\n    getProduct(id) {\r\n      const api = `${process.env.VUE_APP_APIPATH}${process.env.VUE_APP_UUID}/admin/ec/product/${id}`;\r\n      this.$http\r\n        .get(api)\r\n        .then((res) => {\r\n          this.status.loadingBtn = '';\r\n          $('#productModal').modal('show');\r\n          this.tempProduct = res.data.data;\r\n        })\r\n        .catch((error) => {\r\n          this.status.loadingBtn = '';\r\n          console.log(error);\r\n        });\r\n    },\r\n    // 上傳產品資料，新增or編輯\r\n    updateProduct() {\r\n      // 新增商品\r\n      let api = `${process.env.VUE_APP_APIPATH}${process.env.VUE_APP_UUID}/admin/ec/product`;\r\n      let httpMethod = 'post';\r\n      this.status.loadingBtn = this.tempProduct.id;\r\n\r\n      // 當不是新增商品時則切換成編輯商品API\r\n      if (!this.isNew) {\r\n        api = `${process.env.VUE_APP_APIPATH}${process.env.VUE_APP_UUID}/admin/ec/product/${this.tempProduct.id}`;\r\n        httpMethod = 'patch';\r\n      }\r\n\r\n      this.$http[httpMethod](api, this.tempProduct)\r\n        .then(() => {\r\n          this.status.loadingBtn = '';\r\n          $('#productModal').modal('hide');\r\n          this.$emit('update'); // 把update事件，傳去觸發getproducts()更新產品列表畫面\r\n        })\r\n        .catch((error) => {\r\n          this.status.loadingBtn = '';\r\n          console.log(error.response.data.errors, '編輯、更新產品失敗');\r\n        });\r\n    },\r\n    // 上傳圖片檔案\r\n    uploadFile() {\r\n      const uploadedFile = this.$refs.file.files[0]; // 選取到 DOM 中的 file，定義要上傳的檔案\r\n      const formData = new FormData(); // web api ，建立 FormDate 物件，模擬傳統表單送出形式\r\n      formData.append('file', uploadedFile); // name,value 用 append 將上傳檔案新增進去\r\n\r\n      const url = `${process.env.VUE_APP_APIPATH}${process.env.VUE_APP_UUID}/admin/storage`;\r\n      this.status.fileUploading = true;\r\n\r\n      this.$http\r\n        .post(url, formData, {\r\n          headers: {\r\n            'Content-Type': 'multipart/form-data' // 將表單形式改成 formdata 聲明這內容要用 formData 格式\r\n          }\r\n        })\r\n        .then((res) => {\r\n          this.status.fileUploading = false;\r\n          // 讓點「上傳圖片」按鈕完成上傳的網址回傳進 input 內\r\n          this.tempProduct.imageUrl.push(res.data.data.path);\r\n        })\r\n        .catch((error) => {\r\n          this.status.fileUploading = false;\r\n          console.log(error.response.data.errors, '檔案上傳失敗');\r\n        });\r\n    }\r\n  }\r\n};\r\n</script>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ProductModal.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ProductModal.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ProductModal.vue?vue&type=template&id=291e89f5&scoped=true&\"\nimport script from \"./ProductModal.vue?vue&type=script&lang=js&\"\nexport * from \"./ProductModal.vue?vue&type=script&lang=js&\"\nimport style0 from \"./ProductModal.vue?vue&type=style&index=0&id=291e89f5&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"291e89f5\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('div',{staticClass:\"modal fade\",attrs:{\"id\":\"delProductModal\",\"tabindex\":\"-1\",\"role\":\"dialog\",\"aria-labelledby\":\"exampleModalLabel\",\"aria-hidden\":\"true\"},on:{\"keyup\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\")){ return null; }return _vm.delProduct($event)}}},[_c('div',{staticClass:\"modal-dialog modal-dialog-centered\",attrs:{\"role\":\"document\"}},[_c('div',{staticClass:\"modal-content border-0\"},[_vm._m(0),_c('div',{staticClass:\"modal-body\"},[_vm._v(\" 是否刪除 \"),_c('strong',{staticClass:\"text-danger\"},[_vm._v(_vm._s(_vm.tempProduct.title))]),_vm._v(\" 商品(刪除後將無法恢復)。 \")]),_c('div',{staticClass:\"modal-footer\"},[_c('button',{staticClass:\"btn btn-danger\",attrs:{\"type\":\"button\",\"disabled\":_vm.status.loadingBtnDel === _vm.tempProduct.id},on:{\"click\":_vm.delProduct}},[(_vm.status.loadingBtnDel === _vm.tempProduct.id)?_c('span',{staticClass:\"spinner-grow spinner-grow-sm\",attrs:{\"role\":\"status\",\"aria-hidden\":\"true\"}}):_vm._e(),_vm._v(\" 確認刪除 \")]),_c('button',{staticClass:\"btn btn-outline-secondary\",attrs:{\"type\":\"button\",\"data-dismiss\":\"modal\"}},[_vm._v(\" 取消 \")])])])])])])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"modal-header bg-danger text-white\"},[_c('h5',{staticClass:\"modal-title\",attrs:{\"id\":\"exampleModalLabel\"}},[_c('span',[_vm._v(\"刪除產品\")])]),_c('button',{staticClass:\"close\",attrs:{\"type\":\"button\",\"data-dismiss\":\"modal\",\"aria-label\":\"Close\"}},[_c('span',{attrs:{\"aria-hidden\":\"true\"}},[_vm._v(\"×\")])])])}]\n\nexport { render, staticRenderFns }","<template>\r\n  <div>\r\n    <div\r\n      id=\"delProductModal\"\r\n      class=\"modal fade\"\r\n      tabindex=\"-1\"\r\n      role=\"dialog\"\r\n      aria-labelledby=\"exampleModalLabel\"\r\n      aria-hidden=\"true\"\r\n      @keyup.enter=\"delProduct\"\r\n    >\r\n      <div class=\"modal-dialog modal-dialog-centered\" role=\"document\">\r\n        <div class=\"modal-content border-0\">\r\n          <div class=\"modal-header bg-danger text-white\">\r\n            <h5 id=\"exampleModalLabel\" class=\"modal-title\">\r\n              <span>刪除產品</span>\r\n            </h5>\r\n            <button\r\n              type=\"button\"\r\n              class=\"close\"\r\n              data-dismiss=\"modal\"\r\n              aria-label=\"Close\"\r\n            >\r\n              <span aria-hidden=\"true\">&times;</span>\r\n            </button>\r\n          </div>\r\n          <div class=\"modal-body\">\r\n            是否刪除\r\n            <strong class=\"text-danger\">{{ tempProduct.title }}</strong>\r\n            商品(刪除後將無法恢復)。\r\n          </div>\r\n          <div class=\"modal-footer\">\r\n            <button\r\n              type=\"button\"\r\n              class=\"btn btn-danger\"\r\n              @click=\"delProduct\"\r\n              :disabled=\"status.loadingBtnDel === tempProduct.id\"\r\n            >\r\n              <span\r\n                class=\"spinner-grow spinner-grow-sm\"\r\n                role=\"status\"\r\n                aria-hidden=\"true\"\r\n                v-if=\"status.loadingBtnDel === tempProduct.id\"\r\n              ></span>\r\n              確認刪除\r\n            </button>\r\n            <button\r\n              type=\"button\"\r\n              class=\"btn btn-outline-secondary\"\r\n              data-dismiss=\"modal\"\r\n            >\r\n              取消\r\n            </button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n/* global $ */\r\n\r\nexport default {\r\n  name: 'DelProductModal',\r\n  data() {\r\n    return {};\r\n  },\r\n  props: ['tempProduct', 'status'],\r\n  methods: {\r\n    // 刪除產品\r\n    delProduct() {\r\n      const url = `${process.env.VUE_APP_APIPATH}${process.env.VUE_APP_UUID}/admin/ec/product/${this.tempProduct.id}`;\r\n      this.status.loadingBtnDel = this.tempProduct.id;\r\n      this.$http\r\n        .delete(url)\r\n        .then(() => {\r\n          this.status.loadingBtnDel = '';\r\n          $('#delProductModal').modal('hide');\r\n          this.$emit('update'); // 把update事件，傳去觸發getproducts()更新產品列表畫面\r\n        })\r\n        .catch((error) => {\r\n          this.status.loadingBtnDel = '';\r\n          console.log(error.response);\r\n        });\r\n    }\r\n  }\r\n};\r\n</script>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DelProductModal.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DelProductModal.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./DelProductModal.vue?vue&type=template&id=3b168992&\"\nimport script from \"./DelProductModal.vue?vue&type=script&lang=js&\"\nexport * from \"./DelProductModal.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<template>\r\n  <div>\r\n    <loading loader=\"dots\" :active.sync=\"status.isLoading\"> </loading>\r\n    <div class=\"text-right mt-4\">\r\n      <div class=\"form-row\">\r\n        <div class=\"form-group col-md-2\">\r\n          <select id=\"inputState\" class=\"form-control\" v-model=\"input.type\">\r\n            <option>全部產品</option>\r\n            <option>新娘捧花</option>\r\n            <option>婚禮佈置</option>\r\n            <option>胸花</option>\r\n            <option>手腕花</option>\r\n          </select>\r\n        </div>\r\n        <!-- <div class=\"form-group pl-1 pr-5 d-flex align-items-center\">\r\n          <span> {{ typeMenu.length }} /</span>\r\n          <span> {{ products.length }}</span>\r\n        </div> -->\r\n        <div class=\"form-group\">\r\n          <button class=\"btn btn-primary\" @click=\"openModal('new')\">\r\n            建立新的產品\r\n          </button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n    <table class=\"table mt-4\">\r\n      <thead>\r\n        <tr class=\"text-center\">\r\n          <th width=\"130\">\r\n            分類\r\n          </th>\r\n          <th width=\"130\">\r\n            產品圖\r\n          </th>\r\n          <th>產品名稱</th>\r\n          <th width=\"120\">\r\n            原價\r\n          </th>\r\n          <th width=\"120\">\r\n            售價\r\n          </th>\r\n          <th width=\"100\">\r\n            是否啟用\r\n          </th>\r\n          <th width=\"140\">\r\n            編輯\r\n          </th>\r\n        </tr>\r\n      </thead>\r\n      <tbody>\r\n        <!-- 產品列表 v-for products -->\r\n        <tr v-for=\"(item, index) in typeMenu\" :key=\"index\" class=\"text-center\">\r\n          <td>{{ item.category }}</td>\r\n          <td>\r\n            <router-link :to=\"`/product/${item.id}`\" target=\"_blank\">\r\n              <img style=\"width: 100px\" :src=\"item.imageUrl[0]\" alt />\r\n            </router-link>\r\n          </td>\r\n          <td class=\"text-left\">{{ item.title }}</td>\r\n          <td>\r\n            {{ item.origin_price | currency }}\r\n          </td>\r\n          <td>\r\n            {{ item.price | currency }}\r\n          </td>\r\n          <td>\r\n            <span v-if=\"item.enabled\" class=\"text-success\">啟用</span>\r\n            <span v-else>未啟用</span>\r\n          </td>\r\n          <td>\r\n            <div class=\"btn-group d-flex\">\r\n              <button\r\n                class=\"btn btn-outline-primary btn-sm\"\r\n                @click=\"openModal('edit', item)\"\r\n                :disabled=\"status.loadingBtn === item.id\"\r\n              >\r\n                <!-- 讀取資料中顯示無法點擊狀態比對，如果目前 loadingBtn 等於 item.id 就加上無法點擊標籤 -->\r\n                <span\r\n                  class=\"spinner-grow spinner-grow-sm\"\r\n                  role=\"status\"\r\n                  aria-hidden=\"true\"\r\n                  v-if=\"status.loadingBtn === item.id\"\r\n                ></span>\r\n                <span v-else> 編輯 </span>\r\n              </button>\r\n              <button\r\n                class=\"btn btn-outline-danger btn-sm\"\r\n                @click=\"openModal('delete', item)\"\r\n              >\r\n                刪除\r\n              </button>\r\n            </div>\r\n          </td>\r\n        </tr>\r\n      </tbody>\r\n    </table>\r\n    <pagination :pages=\"pagination\" @emit-pages=\"getProducts\"></pagination>\r\n\r\n    <!-- Modal -->\r\n    <product-modal\r\n      ref=\"productModel\"\r\n      :status=\"status\"\r\n      :is-new=\"isNew\"\r\n      @update=\"getProducts\"\r\n    ></product-modal>\r\n\r\n    <del-product-modal\r\n      :temp-product=\"tempProduct\"\r\n      :status=\"status\"\r\n      @update=\"getProducts\"\r\n    ></del-product-modal>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n/* global $ */\r\n\r\nimport Pagination from '@/components/backend/Pagination.vue';\r\nimport ProductModal from '@/components/backend/ProductModal.vue';\r\nimport DelProductModal from '@/components/backend/DelProductModal.vue';\r\n\r\nexport default {\r\n  name: 'Products',\r\n  components: {\r\n    Pagination,\r\n    ProductModal,\r\n    DelProductModal\r\n  },\r\n  //props: ['token'], // 為什麼老師範例要接收 token 哪有用到?\r\n  data() {\r\n    return {\r\n      products: [], // 放置 AJAX 回來的產品資料，渲染產品列表。\r\n      pagination: {}, // 放置 AJAX 回來的分頁資料用。\r\n      tempProduct: {\r\n        // 編輯、刪除的暫存資料用\r\n        imageUrl: [] // 必須預先定義 imageUrl 並且是一個陣列，否則新增或更新會出現錯誤\r\n      },\r\n      input: {\r\n        type: '全部產品'\r\n      },\r\n      isNew: false, // 用於判斷接下來的行為是新增產品或編輯產品，切換新增或編輯的api\r\n      status: {\r\n        fileUploading: false, // 用於切換上傳圖片時的小 icon，主要是增加使用者體驗。\r\n        loadingBtn: '', // 編輯按鈕上的讀取效果\r\n        loadingBtnDel: '', // 確認刪除按鈕上的讀取效果\r\n        isLoading: false\r\n      }\r\n    };\r\n  },\r\n  created() {\r\n    this.getProducts();\r\n  },\r\n  computed: {\r\n    typeMenu() {\r\n      if (this.input.type === '全部產品') {\r\n        return this.products;\r\n      } else {\r\n        return this.products.filter((item) => {\r\n          return item.category === this.input.type; // 把一致的type保留下來\r\n        });\r\n      }\r\n    }\r\n  },\r\n  methods: {\r\n    // 取得所有商品列表\r\n    getProducts(page = 1) {\r\n      const api = `${process.env.VUE_APP_APIPATH}${process.env.VUE_APP_UUID}/admin/ec/products?page=${page}&paged=100`;\r\n      this.status.isLoading = true;\r\n      this.$http\r\n        .get(api)\r\n        .then((response) => {\r\n          this.products = response.data.data;\r\n          this.pagination = response.data.meta.pagination;\r\n          this.status.isLoading = false;\r\n        })\r\n        .catch((error) => {\r\n          this.status.isLoading = false;\r\n          console.log(error.response);\r\n        });\r\n    },\r\n    // 開啟Modal視窗，回傳參數判斷是新增、編輯、刪除\r\n    openModal(isNew, item) {\r\n      const editTitle = document.querySelector('.editTitle');\r\n      switch (isNew) {\r\n        case 'new': // 接收的參數為new\r\n          editTitle.textContent = '新增產品';\r\n          this.$refs.productModel.tempProduct = {\r\n            // 如果有點新增產品沒送出，這邊沒清空資料欄位，再點資料會顯示在畫面上\r\n            imageUrl: []\r\n          };\r\n          this.isNew = true; // 判斷是否為新產品\r\n          $('#productModal').modal('show');\r\n          break;\r\n        case 'edit':\r\n          editTitle.textContent = '編輯產品';\r\n          this.status.loadingBtn = item.id; // 為了 loading、disabled 效果，取得資料後清空\r\n          this.tempProduct = Object.assign({}, item);\r\n          // 使用refs觸發子元件方法\r\n          this.$refs.productModel.getProduct(this.tempProduct.id); // 把點擊的產品 id 傳去 productModel 元件內\r\n          this.isNew = false; // 不是新產品，props 傳給 getProduc t切換成編輯商品 API\r\n          break;\r\n        case 'delete':\r\n          // 點了那筆產品資料 item 淺複製一份到暫存 tempProduct\r\n          this.tempProduct = Object.assign({}, item);\r\n          // 開啟刪除產品 modal\r\n          $('#delProductModal').modal('show');\r\n          break;\r\n        default:\r\n          break;\r\n      }\r\n    }\r\n  }\r\n};\r\n</script>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Products.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Products.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Products.vue?vue&type=template&id=4cd5f1d5&\"\nimport script from \"./Products.vue?vue&type=script&lang=js&\"\nexport * from \"./Products.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('nav',{attrs:{\"aria-label\":\"Page navigation example\"}},[_c('ul',{staticClass:\"pagination justify-content-center\"},[_c('li',{staticClass:\"page-item\",class:{ disabled: _vm.pages.current_page === 1 }},[_c('a',{staticClass:\"page-link\",attrs:{\"href\":\"#\",\"aria-label\":\"Previous\"},on:{\"click\":function($event){$event.preventDefault();return _vm.emitPages(_vm.pages.current_page - 1)}}},[_c('span',{attrs:{\"aria-hidden\":\"true\"}},[_vm._v(\"«\")])])]),_vm._l((_vm.pages.total_pages),function(item,index){return _c('li',{key:index,staticClass:\"page-item\",class:{ active: item === _vm.pages.current_page }},[_c('a',{staticClass:\"page-link\",attrs:{\"href\":\"#\"},on:{\"click\":function($event){$event.preventDefault();return _vm.emitPages(item)}}},[_vm._v(_vm._s(item))])])}),_c('li',{staticClass:\"page-item\",class:{ disabled: _vm.pages.current_page === _vm.pages.total_pages }},[_c('a',{staticClass:\"page-link\",attrs:{\"href\":\"#\",\"aria-label\":\"Next\"},on:{\"click\":function($event){$event.preventDefault();return _vm.emitPages(_vm.pages.current_page + 1)}}},[_c('span',{attrs:{\"aria-hidden\":\"true\"}},[_vm._v(\"»\")])])])],2)])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div>\r\n    <nav aria-label=\"Page navigation example\">\r\n      <ul class=\"pagination justify-content-center\">\r\n        <li class=\"page-item\" :class=\"{ disabled: pages.current_page === 1 }\">\r\n          <a\r\n            class=\"page-link\"\r\n            href=\"#\"\r\n            aria-label=\"Previous\"\r\n            @click.prevent=\"emitPages(pages.current_page - 1)\"\r\n          >\r\n            <span aria-hidden=\"true\">&laquo;</span>\r\n          </a>\r\n        </li>\r\n        <li\r\n          v-for=\"(item, index) in pages.total_pages\"\r\n          :key=\"index\"\r\n          class=\"page-item\"\r\n          :class=\"{ active: item === pages.current_page }\"\r\n        >\r\n          <a class=\"page-link\" href=\"#\" @click.prevent=\"emitPages(item)\">{{\r\n            item\r\n          }}</a>\r\n        </li>\r\n        <li\r\n          class=\"page-item\"\r\n          :class=\"{ disabled: pages.current_page === pages.total_pages }\"\r\n        >\r\n          <a\r\n            class=\"page-link\"\r\n            href=\"#\"\r\n            aria-label=\"Next\"\r\n            @click.prevent=\"emitPages(pages.current_page + 1)\"\r\n          >\r\n            <span aria-hidden=\"true\">&raquo;</span>\r\n          </a>\r\n        </li>\r\n      </ul>\r\n    </nav>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  name: 'Pagination',\r\n  data() {\r\n    return {};\r\n  },\r\n  props: { pages: {} }, // 接遠端傳回的分頁物件資料\r\n  methods: {\r\n    emitPages(item) {\r\n      // 點擊觸發外部事件切換頁，把頁碼 item 傳去 getproduct 重新渲染產品列表\r\n      this.$emit('emit-pages', item); //頁碼\r\n    }\r\n  }\r\n};\r\n</script>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Pagination.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Pagination.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Pagination.vue?vue&type=template&id=3114cd87&\"\nimport script from \"./Pagination.vue?vue&type=script&lang=js&\"\nexport * from \"./Pagination.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ProductModal.vue?vue&type=style&index=0&id=291e89f5&scoped=true&lang=css&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ProductModal.vue?vue&type=style&index=0&id=291e89f5&scoped=true&lang=css&\""],"sourceRoot":""}