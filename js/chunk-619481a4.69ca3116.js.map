{"version":3,"sources":["webpack:///./src/components/backend/NavSidebar.vue?9fa9","webpack:///./src/views/backend/Dashboard.vue?af44","webpack:///./src/views/backend/Dashboard.vue?746b","webpack:///./src/components/backend/NavSidebar.vue?dad9","webpack:///src/components/backend/NavSidebar.vue","webpack:///./src/components/backend/NavSidebar.vue?8886","webpack:///./src/components/backend/NavSidebar.vue","webpack:///src/views/backend/Dashboard.vue","webpack:///./src/views/backend/Dashboard.vue?e1f6","webpack:///./src/views/backend/Dashboard.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","attrs","isLoading","on","$event","staticClass","_e","staticRenderFns","_m","_v","preventDefault","signout","name","data","methods","document","cookie","$router","push","component","components","NavSidebar","token","checkSuccess","created","checkLogin","replace","$http","defaults","headers","common","Authorization"],"mappings":"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","file":"js/chunk-619481a4.69ca3116.js","sourcesContent":["import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./NavSidebar.vue?vue&type=style&index=0&id=89ec5f86&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./NavSidebar.vue?vue&type=style&index=0&id=89ec5f86&lang=scss&scoped=true&\"","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Dashboard.vue?vue&type=style&index=0&id=fa9e708a&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Dashboard.vue?vue&type=style&index=0&id=fa9e708a&lang=scss&scoped=true&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('loading',{attrs:{\"loader\":\"dots\",\"active\":_vm.isLoading},on:{\"update:active\":function($event){_vm.isLoading=$event}}}),_c('section',{staticClass:\"d-flex\"},[_c('nav-sidebar'),_c('main',{staticClass:\"main container-fluid\"},[(_vm.checkSuccess)?_c('router-view'):_vm._e()],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('nav',{staticClass:\"sidebar bg-light font-weight-bold fixed-top fixed-bottom overflow-auto\"},[_c('div',{staticClass:\"d-flex flex-column justify-content-between h-100 py-4 pl-5\"},[_c('ul',{staticClass:\"nav flex-column\"},[_vm._m(0),_c('li',{staticClass:\"nav-item py-3\"},[_c('router-link',{staticClass:\"nav-link\",attrs:{\"to\":\"/admin/todolist\"}},[_c('i',{staticClass:\"fas fa-pencil-alt mr-3\"}),_c('span',[_vm._v(\"待辦事項\")])])],1),_c('li',{staticClass:\"nav-item py-3\"},[_c('router-link',{staticClass:\"nav-link\",attrs:{\"to\":\"/admin/products\"}},[_c('i',{staticClass:\"fas fa-shopping-cart mr-3\"}),_c('span',[_vm._v(\"產品列表\")])])],1),_c('li',{staticClass:\"nav-item py-3\"},[_c('router-link',{staticClass:\"nav-link\",attrs:{\"to\":\"/admin/coupons\"}},[_c('i',{staticClass:\"fas fa-ticket-alt mr-3\"}),_c('span',[_vm._v(\"優惠券列表\")])])],1),_c('li',{staticClass:\"nav-item py-3\"},[_c('router-link',{staticClass:\"nav-link\",attrs:{\"to\":\"/admin/orders\"}},[_c('i',{staticClass:\"fas fa-comment-dollar mr-3\"}),_c('span',[_vm._v(\"訂單列表\")])])],1),_c('li',{staticClass:\"nav-item py-3\"},[_c('router-link',{staticClass:\"nav-link\",attrs:{\"to\":\"/admin/storages\"}},[_c('i',{staticClass:\"fas fa-image mr-3\"}),_c('span',[_vm._v(\"圖片儲存列表\")])])],1),_c('li',{staticClass:\"nav-item py-3\"},[_c('router-link',{staticClass:\"nav-link\",attrs:{\"to\":\"/\"}},[_c('i',{staticClass:\"fas fa-home mr-3\"}),_c('span',[_vm._v(\"前台首頁\")])])],1),_c('li',{staticClass:\"nav-item py-3\"},[_c('a',{staticClass:\"nav-link\",attrs:{\"href\":\"#\"},on:{\"click\":function($event){$event.preventDefault();return _vm.signout($event)}}},[_c('i',{staticClass:\"fas fa-sign-out-alt mr-3\"}),_c('span',[_vm._v(\"登出\")])])])])])])])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('li',{staticClass:\"nav-item py-3\"},[_c('h3',[_vm._v(\"後台管理\")])])}]\n\nexport { render, staticRenderFns }","<template>\r\n  <div>\r\n    <nav\r\n      class=\"sidebar bg-light font-weight-bold fixed-top fixed-bottom overflow-auto\"\r\n    >\r\n      <div class=\"d-flex flex-column justify-content-between h-100 py-4 pl-5\">\r\n        <ul class=\"nav flex-column\">\r\n          <li class=\"nav-item py-3\">\r\n            <h3>後台管理</h3>\r\n          </li>\r\n\r\n          <li class=\"nav-item py-3\">\r\n            <router-link class=\"nav-link\" to=\"/admin/todolist\">\r\n              <i class=\"fas fa-pencil-alt mr-3\"></i>\r\n              <span>待辦事項</span>\r\n            </router-link>\r\n          </li>\r\n\r\n          <li class=\"nav-item py-3\">\r\n            <router-link class=\"nav-link\" to=\"/admin/products\">\r\n              <i class=\"fas fa-shopping-cart mr-3\"></i>\r\n              <span>產品列表</span>\r\n            </router-link>\r\n          </li>\r\n          <li class=\"nav-item py-3\">\r\n            <router-link class=\"nav-link\" to=\"/admin/coupons\">\r\n              <i class=\"fas fa-ticket-alt mr-3\"></i>\r\n              <span>優惠券列表</span>\r\n            </router-link>\r\n          </li>\r\n          <li class=\"nav-item py-3\">\r\n            <router-link class=\"nav-link\" to=\"/admin/orders\">\r\n              <i class=\"fas fa-comment-dollar mr-3\"></i>\r\n              <span>訂單列表</span>\r\n            </router-link>\r\n          </li>\r\n          <li class=\"nav-item py-3\">\r\n            <router-link class=\"nav-link\" to=\"/admin/storages\">\r\n              <i class=\"fas fa-image mr-3\"></i>\r\n              <span>圖片儲存列表</span>\r\n            </router-link>\r\n          </li>\r\n          <li class=\"nav-item py-3\">\r\n            <router-link class=\"nav-link\" to=\"/\">\r\n              <i class=\"fas fa-home mr-3\"></i>\r\n              <span>前台首頁</span>\r\n            </router-link>\r\n          </li>\r\n\r\n          <li class=\"nav-item py-3\">\r\n            <a href=\"#\" class=\"nav-link\" @click.prevent=\"signout\">\r\n              <i class=\"fas fa-sign-out-alt mr-3\"></i>\r\n              <span>登出</span>\r\n            </a>\r\n          </li>\r\n        </ul>\r\n      </div>\r\n    </nav>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  name: 'NavSidebar',\r\n  data() {\r\n    return {};\r\n  },\r\n  methods: {\r\n    signout() {\r\n      // 清除存在cookie內的 value、到期日\r\n      document.cookie = `hexToken=; expires=; path=/`;\r\n      this.$router.push('/login');\r\n    }\r\n  }\r\n};\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.sidebar {\r\n  width: 296px;\r\n  a:hover {\r\n    color: rgba(0, 0, 0, 0.5);\r\n  }\r\n}\r\n</style>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./NavSidebar.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./NavSidebar.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./NavSidebar.vue?vue&type=template&id=89ec5f86&scoped=true&\"\nimport script from \"./NavSidebar.vue?vue&type=script&lang=js&\"\nexport * from \"./NavSidebar.vue?vue&type=script&lang=js&\"\nimport style0 from \"./NavSidebar.vue?vue&type=style&index=0&id=89ec5f86&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"89ec5f86\",\n  null\n  \n)\n\nexport default component.exports","<template>\r\n  <div>\r\n    <loading loader=\"dots\" :active.sync=\"isLoading\"> </loading>\r\n\r\n    <section class=\"d-flex\">\r\n      <nav-sidebar />\r\n\r\n      <main class=\"main container-fluid\">\r\n        <!-- 等驗證完才跑內容 -->\r\n        <router-view v-if=\"checkSuccess\" />\r\n        <!-- 內層有用到token嗎? -->\r\n        <!-- <router-view :token=\"token\" v-if=\"checkSuccess\" /> -->\r\n      </main>\r\n    </section>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport NavSidebar from '@/components/backend/NavSidebar.vue';\r\n\r\nexport default {\r\n  name: 'Dashboard',\r\n  components: {\r\n    NavSidebar\r\n  },\r\n  data() {\r\n    return {\r\n      token: '',\r\n      checkSuccess: false,\r\n      isLoading: false\r\n    };\r\n  },\r\n  created() {\r\n    this.checkLogin();\r\n  },\r\n  methods: {\r\n    checkLogin() {\r\n      // 取出 login頁面 時存在 cookies 的 token\r\n      this.token = document.cookie.replace(\r\n        /(?:(?:^|.*;\\s*)token\\s*=\\s*([^;]*).*$)|^.*$/,\r\n        '$1'\r\n      );\r\n      this.$http.defaults.headers.common.Authorization = `Bearer ${this.token}`;\r\n\r\n      const api = `https://course-ec-api.hexschool.io/api/auth/check`;\r\n\r\n      // 這邊 api 規定 api_token 要物件\r\n      this.isLoading = true;\r\n      this.$http\r\n        .post(api, { api_token: this.token })\r\n        .then(() => {\r\n          // console.log(res.data.message, '驗證成功，請先登入');\r\n          this.checkSuccess = true;\r\n          // 將 Token 加入到 Headers 內驗證，帶上取得的 token  (common是 預設值)\r\n          this.isLoading = false;\r\n        })\r\n        .catch((error) => {\r\n          this.isLoading = false;\r\n\r\n          console.log(error.response.data.errors.api_token, '驗證失敗');\r\n          this.$router.push('/login'); // 若無法取得 token 則返回 Login 頁面\r\n        });\r\n    }\r\n  }\r\n};\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.main {\r\n  margin-left: 296px;\r\n}\r\n\r\n.userAvatar {\r\n  width: 2.5rem;\r\n  height: 2.5rem;\r\n  object-fit: cover;\r\n}\r\n</style>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Dashboard.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Dashboard.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Dashboard.vue?vue&type=template&id=fa9e708a&scoped=true&\"\nimport script from \"./Dashboard.vue?vue&type=script&lang=js&\"\nexport * from \"./Dashboard.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Dashboard.vue?vue&type=style&index=0&id=fa9e708a&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"fa9e708a\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}