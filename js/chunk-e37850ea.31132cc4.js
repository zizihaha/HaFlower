(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-e37850ea"],{2355:function(t,a,s){"use strict";s.r(a);var e=function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("div",[s("loading",{attrs:{loader:"dots",active:t.status.isLoading},on:{"update:active":function(a){return t.$set(t.status,"isLoading",a)}}}),t._m(0),s("div",{staticClass:"container"},[s("div",{staticClass:"pt-md-5"},[t.carts.length?s("div",{staticClass:"mb-4"},[s("h3",{staticClass:"my-4"},[t._v("購物清單")]),s("div",{staticClass:"row"},[s("div",{staticClass:"col-md-8"},[s("table",{staticClass:"table"},[t._m(1),s("tbody",t._l(t.carts,(function(a){return s("tr",{key:a.product.id,staticClass:"border-bottom border-top"},[s("th",{staticClass:"border-0 px-0 font-weight-normal py-4",attrs:{scope:"row"}},[s("router-link",{attrs:{to:"/product/"+a.product.id}},[s("img",{directives:[{name:"lazy",rawName:"v-lazy",value:a.product.imageUrl[0],expression:"item.product.imageUrl[0]"}],staticClass:"productImg",staticStyle:{width:"72px",height:"72px","object-fit":"cover"},attrs:{alt:a.product.title}}),s("p",{staticClass:"productText mb-0 font-weight-bold d-inline-block"},[t._v(" "+t._s(a.product.title)+" ")])])],1),s("td",{staticClass:"border-0 align-middle",staticStyle:{"max-width":"160px"}},[s("div",{staticClass:"input-group quantity"},[s("div",{staticClass:"input-group-prepend"},[s("button",{staticClass:"btn border-0 py-1",attrs:{type:"button",id:"button-addon1",disabled:a.quantity<2},on:{click:function(s){a.quantity--,t.updateQuantity(a.product.id,a.quantity)}}},[s("i",{staticClass:"fas fa-minus"})])]),s("input",{directives:[{name:"model",rawName:"v-model.number",value:a.quantity,expression:"item.quantity",modifiers:{number:!0}}],staticClass:"form-control border-0\n                    text-center my-auto shadow-none",attrs:{type:"number",min:"1",placeholder:"","aria-label":"Example text with button addon","aria-describedby":"button-addon1"},domProps:{value:a.quantity},on:{input:[function(s){s.target.composing||t.$set(a,"quantity",t._n(s.target.value))},function(s){return t.updateQuantity(a.product.id,a.quantity,a.product)}],blur:function(a){return t.$forceUpdate()}}}),s("div",{staticClass:"input-group-append"},[s("button",{staticClass:"btn border-0 py-1",attrs:{type:"button",id:"button-addon2"},on:{click:function(s){a.quantity++,t.updateQuantity(a.product.id,a.quantity)}}},[s("i",{staticClass:"fas fa-plus"})])])])]),s("td",{staticClass:"border-0 align-middle"},[s("p",{staticClass:"mb-0 ml-auto"},[t._v(" "+t._s(t._f("currency")(a.product.price*a.quantity))+" ")])]),s("td",{staticClass:"border-0 align-middle"},[s("a",{attrs:{href:"#"},on:{click:function(s){return s.preventDefault(),t.removeCartItem(a.product.id)}}},[s("i",{staticClass:"fas fa-times"})])])])})),0)])]),s("div",{staticClass:"col-md-4"},[s("div",{staticClass:"border p-4"},[s("h4",{staticClass:"font-weight-bold mb-4"},[t._v("訂單金額")]),t._m(2),s("div",{staticClass:"orderText mt-4"},[s("p",{staticClass:"mb-0 h4 font-weight-bold"},[t._v("商品總金額")]),s("p",{staticClass:"mb-0 h4 font-weight-bold"},[t._v(" "+t._s(t._f("currency")(t.totalAmount))+" ")])]),s("router-link",{staticClass:"btn btn-primary btn-block mt-4",attrs:{to:"/order"}},[t._v(" 填寫訂單資料 "),s("i",{staticClass:"fas fa-chevron-right ml-2"})])],1)])])]):t.noProduct?s("p",{staticClass:"text-center my-5"},[t._v(" 購物車內沒有商品喔， "),s("router-link",{staticClass:"text-decoration-none text-success font-weight-bold",attrs:{to:"/products"}},[t._v(" 去產品頁逛逛吧! ")])],1):t._e(),s("div",{staticClass:"row"},[s("ProductInfo")],1)])])],1)},i=[function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("div",{staticClass:"position-relative d-flex align-items-center justify-content-center",staticStyle:{"min-height":"200px"}},[s("div",{staticClass:"position-absolute",staticStyle:{top:"0",bottom:"0",left:"0",right:"0",opacity:"0.3",background:"url(https://images.unsplash.com/photo-1527903624482-4186b06014b7?ixlib=rb-1.2.1&auto=format&fit=crop&w=1043&q=80) fixed no-repeat center / cover"}})])},function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("thead",[s("tr",{staticClass:"productTr"},[s("th",{staticClass:"border-0 pl-0",attrs:{scope:"col"}},[t._v(" 產品名稱 ")]),s("th",{staticClass:"border-0",attrs:{scope:"col"}},[t._v("數量")]),s("th",{staticClass:"border-0",attrs:{scope:"col"}},[t._v("金額")]),s("th",{staticClass:"border-0",attrs:{scope:"col"}})])])},function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("table",{staticClass:"table text-muted border-bottom"},[s("tbody")])}],o=(s("99af"),s("4160"),s("159b"),s("a58c")),r={name:"Cart",components:{ProductInfo:o["a"]},data:function(){return{relatedProducts:[],carts:[],totalAmount:0,coupon_code:"",error:"",tempProduct:{imageUrl:[]},status:{isLoading:!1},noProduct:!1}},methods:{getCart:function(){var t=this;this.status.isLoading=!0;var a="".concat("https://course-ec-api.hexschool.io/api/").concat("5f936d6a-78a1-48f0-8517-588ebb2f69c6","/ec/shopping");this.$http.get(a).then((function(a){t.status.isLoading=!1,t.carts=a.data.data,t.cartTotal(),0==t.carts.length&&(t.noProduct=!0)})).catch((function(a){t.status.isLoading=!1,console.log(a.response)}))},removeCartItem:function(t){var a=this,s="".concat("https://course-ec-api.hexschool.io/api/").concat("5f936d6a-78a1-48f0-8517-588ebb2f69c6","/ec/shopping/").concat(t);this.$http.delete(s).then((function(t){a.getCart(),a.$bus.$emit("message:push",t.data.message,"success"),a.$bus.$emit("get-cart")}))},cartTotal:function(){var t=this;this.totalAmount=0,this.carts.forEach((function(a){t.totalAmount+=a.product.price*a.quantity}))},updateQuantity:function(t,a){var s=this,e="".concat("https://course-ec-api.hexschool.io/api/").concat("5f936d6a-78a1-48f0-8517-588ebb2f69c6","/ec/shopping"),i={product:t,quantity:a};0==a&&this.removeCartItem(t),this.$http.patch(e,i).then((function(){s.getCart()})).catch((function(t){s.status.isLoading=!1,console.log(t.response)}))}},created:function(){this.getCart()}},c=r,n=s("2877"),l=Object(n["a"])(c,e,i,!1,null,null,null);a["default"]=l.exports},a58c:function(t,a,s){"use strict";var e=function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("div",{staticClass:"container"},[s("div",{staticClass:"row"},[s("div",{staticClass:"col-md-4 mt-md-4"},[s("div",{staticClass:"card border-0 mb-4"},[s("a",{attrs:{href:"#"},on:{click:function(a){return a.preventDefault(),t.toCategory("新娘捧花")}}},[s("img",{directives:[{name:"lazy",rawName:"v-lazy",value:t.img[0],expression:"img[0]"}],staticClass:"card-img-top rounded-0",attrs:{alt:"新娘捧花"}}),t._m(0)])])]),s("div",{staticClass:"col-md-4 mt-md-4"},[s("div",{staticClass:"card border-0 mb-4"},[s("a",{attrs:{href:"#"},on:{click:function(a){return a.preventDefault(),t.toCategory("胸花")}}},[s("img",{directives:[{name:"lazy",rawName:"v-lazy",value:t.img[1],expression:"img[1]"}],staticClass:"card-img-top rounded-0",attrs:{alt:"胸花/手腕花"}}),t._m(1)])])]),s("div",{staticClass:"col-md-4 mt-md-4"},[s("div",{staticClass:"card border-0 mb-4"},[s("a",{attrs:{href:"#"},on:{click:function(a){return a.preventDefault(),t.toCategory("婚禮佈置")}}},[s("img",{directives:[{name:"lazy",rawName:"v-lazy",value:t.img[2],expression:"img[2]"}],staticClass:"card-img-top rounded-0",attrs:{alt:"婚禮佈置"}}),t._m(2)])])])])])},i=[function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("div",{staticClass:"card-body text-center"},[s("h4",[t._v("新娘捧花")]),s("p",{staticClass:"card-text text-muted mb-0"},[t._v(" 每一位新娘子,一定都要有自己的專屬捧花 ")])])},function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("div",{staticClass:"card-body text-center"},[s("h4",[t._v("胸花/手腕花")]),s("p",{staticClass:"card-text text-muted mb-0"},[t._v(" 配戴式花藝，為婚禮增加身上的小亮點 ")])])},function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("div",{staticClass:"card-body text-center"},[s("h4",[t._v("婚禮佈置")]),s("p",{staticClass:"card-text text-muted mb-0"},[t._v(" 客製化製作 ")])])}],o={name:"ProductInfo",data:function(){return{img:["https://images.unsplash.com/photo-1589727549629-87f7073149b3?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=1350&q=80","https://images.unsplash.com/photo-1588775827551-ec4fc340be0c?ixlib=rb-1.2.1&auto=format&fit=crop&w=1352&q=80","https://images.unsplash.com/photo-1529636798458-92182e662485?ixlib=rb-1.2.1&auto=format&fit=crop&w=1350&q=80"]}},created:function(){},methods:{toCategory:function(t){this.$router.push({name:"products",params:{categoryType:t}})}}},r=o,c=s("2877"),n=Object(c["a"])(r,e,i,!1,null,null,null);a["a"]=n.exports}}]);
//# sourceMappingURL=chunk-e37850ea.31132cc4.js.map